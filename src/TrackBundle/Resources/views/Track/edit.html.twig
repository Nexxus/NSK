{% extends 'base.html.twig' %}
{% trans_default_domain "product" %}

{% block body %}
    <div class="container">
        <h1>{% trans %}Edit Product{% endtrans %}</h1>
        {{ form_start(edit_form, {'attr': {'class': 'form-horizontal'} }) }}
        {{ form_errors(edit_form) }}
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} SKU {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.sku, {'attr': {'readonly': 'readonly'} }) }}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Name {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.name) }}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Quantity {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.quantity) }}
                </div>
            </div>
            {% if sellable %}
             <div class="form-group">
                 <label class="control-label col-lg-2">
                     {% trans %} Price {% endtrans %}
                 </label>
                 <div class="col-lg-10">
                     {{ form_widget(edit_form.price) }}
                 </div>
             </div>
            {% endif %}
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Description {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.description) }}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Type {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.type) }}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Status {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.status) }}
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Location {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.location) }}
                </div>
            </div>
                
        <h4>Product Attributes
            <a class="btn btn-primary" onClick="slideAttrs()">
                Show
            </a>
        </h4>
        <div class="section-attributes">
            <a href="{{ path('track_edit', {'id': product.id}) }}" 
                class='btn btn-success'>&plus; Import Template</a>
            {% for attr in edit_form.attributeRelations %}
                <div class="form-group">
                    <label class="control-label col-lg-2">
                        {{ form_label(attr) }} 
                    </label>
                    <div class="col-lg-10">
                        {{ form_widget(attr) }} 
                    </div>
                </div>
            {% endfor %}
            <div class="form-group">
                <label class="control-label col-lg-2">
                    {% trans %} Add new Attribute {% endtrans %}
                </label>
                <div class="col-lg-10">
                    {{ form_widget(edit_form.newAttribute) }}
                </div>
            </div>
        </div>
        <hr>
        <div class="form-group"> 
            <div class="col-lg-offset-2 col-lg-10">
                {{ form_widget(edit_form.save) }}
            </div>
        </div>

        {{ form_end(edit_form) }}

        <div class="form-group"> 
            <div class="col-lg-offset-2 col-lg-10">
                <a href="{{ path('track_index') }}">
                    {% trans %} Back to the list {% endtrans %}
                </a>
            </div>
        </div>
        <div class="form-group"> 
            <div class="col-lg-offset-2 col-lg-10">
                {{ form_start(delete_form) }}
                    <input type="submit" value="Delete">
                {{ form_end(delete_form) }}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
       $(document).ready(function () {
          $(".section-attributes").hide(); 
       });

       function slideAttrs() {
            $(".section-attributes").slideToggle();
       }
    </script>
{% endblock %}
